#!/bin/bash
# Renstar SysAdmin - Default Configuration

# ============================================================================
# INSTALLATION OPTIONS
# ============================================================================

# Installation mode: minimal, standard, full
INSTALL_MODE="standard"

# Enable/disable module categories
ENABLE_CORE_PACKAGES=true
ENABLE_MONITORING=true
ENABLE_NETWORKING=true
ENABLE_SECURITY=true
ENABLE_CONTAINERS=false
ENABLE_DEVELOPMENT=false
ENABLE_OPTIONAL=true

# ============================================================================
# PACKAGE GROUPS
# ============================================================================

# Core system utilities (always recommended)
PACKAGES_CORE=(
    "neofetch"
    "inxi"
    "btop"
    "duf"
    "ncdu"
    "mc"
    "micro"
    "fd-find"
    "ripgrep"
    "tree"
)

# Modern CLI replacements
PACKAGES_MODERN_CLI=(
    "eza"           # ls replacement
    "bat"           # cat replacement
    "nala"          # apt wrapper
    "gping"         # ping with graphs
)

# Monitoring tools
PACKAGES_MONITORING=(
    "iotop"
    "nethogs"
    "iftop"
    "sysstat"
    "smartmontools"
    "lm-sensors"
    "atop"
)

# Security tools
PACKAGES_SECURITY=(
    "fail2ban"
    "ufw"
    "lynis"
    "rkhunter"
    "aide"
    "unattended-upgrades"
    "needrestart"
    "debsums"
    "apt-listchanges"
)

# Networking tools
PACKAGES_NETWORKING=(
    "mtr-tiny"
    "nmap"
    "tcpdump"
    "bind9-dnsutils"
    "net-tools"
    "traceroute"
    "ethtool"
    "iperf3"
)

# Container tools
PACKAGES_CONTAINERS=(
    "docker.io"
    "docker-compose"
)

# Development tools
PACKAGES_DEVELOPMENT=(
    "git"
    "vim"
    "tmux"
    "screen"
    "jq"
    "fzf"
    "silversearcher-ag"
)

# Optional/fun packages
PACKAGES_OPTIONAL=(
    "lolcat"
    "fortune"
    "cowsay"
    "figlet"
    "ansiweather"
)

# ============================================================================
# MAINTENANCE OPTIONS
# ============================================================================

# Enable/disable maintenance tasks
MAINTENANCE_APT_UPDATE=true
MAINTENANCE_SNAP_UPDATE=true
MAINTENANCE_FLATPAK_UPDATE=false
MAINTENANCE_DOCKER_CLEANUP=false
MAINTENANCE_FIRMWARE_UPDATE=false
MAINTENANCE_KERNEL_CLEANUP=true
MAINTENANCE_LOG_CLEANUP=true
MAINTENANCE_SECURITY_CHECKS=true

# Maintenance thresholds
LOG_RETENTION_DAYS=30
LOG_MAX_SIZE_MB=500
DISK_ALERT_THRESHOLD=85
KEEP_OLD_KERNELS=2
DOCKER_IMAGE_PRUNE=false

# ============================================================================
# SERVICE-SPECIFIC OPTIONS
# ============================================================================

# Detect and update these services
SERVICE_PLEX_ENABLED=true
SERVICE_PIHOLE_ENABLED=true
SERVICE_HOMEBRIDGE_ENABLED=true
SERVICE_DOCKER_ENABLED=false
SERVICE_NGINX_ENABLED=false
SERVICE_APACHE_ENABLED=false

# ============================================================================
# DOTFILE OPTIONS
# ============================================================================

# Dotfiles to install
INSTALL_BASH_ALIASES=true
INSTALL_BASH_LOGOUT=true
INSTALL_FORTUNE_LOGIN=true
INSTALL_VIM_CONFIG=false
INSTALL_TMUX_CONFIG=false
INSTALL_GIT_CONFIG=false

# Backup existing dotfiles before overwriting
BACKUP_EXISTING_CONFIGS=true
BACKUP_SUFFIX=".renstar.backup"

# ============================================================================
# SYSTEM TWEAKS
# ============================================================================

# MOTD/Login customization
SHOW_WEATHER=true
WEATHER_LOCATION="upper saddle river,us"
WEATHER_UNITS="imperial"
SHOW_FORTUNE=true
SHOW_NEOFETCH=true
SHOW_DISK_INFO=true

# ============================================================================
# NOTIFICATION OPTIONS
# ============================================================================

# Email notifications
ENABLE_EMAIL_NOTIFICATIONS=false
EMAIL_TO="admin@example.com"
EMAIL_FROM="server@example.com"
SMTP_SERVER="smtp.example.com"
SMTP_PORT=587

# Notify on these events
NOTIFY_ON_UPDATES=true
NOTIFY_ON_ERRORS=true
NOTIFY_ON_SECURITY=true
NOTIFY_ON_REBOOT_REQUIRED=true

# ============================================================================
# LOGGING OPTIONS
# ============================================================================

# Log directory
LOG_DIR="/var/log/renstar-sysadmin"
LOG_RETENTION_DAYS=90

# Verbosity: quiet, normal, verbose, debug
LOG_VERBOSITY="normal"

# ============================================================================
# SECURITY OPTIONS
# ============================================================================

# Firewall configuration
UFW_ENABLE=false
UFW_DEFAULT_DENY_INCOMING=true
UFW_ALLOWED_PORTS=(22 80 443)

# Fail2ban configuration
FAIL2BAN_ENABLE=false
FAIL2BAN_BANTIME=3600
FAIL2BAN_MAXRETRY=5

# Automatic security updates
AUTO_SECURITY_UPDATES=false
AUTO_REBOOT_IF_REQUIRED=false
AUTO_REBOOT_TIME="03:00"

# ============================================================================
# ADVANCED OPTIONS
# ============================================================================

# Parallel operations (speeds up installs)
PARALLEL_INSTALLS=false
MAX_PARALLEL_JOBS=4

# Dry run mode (test without making changes)
DRY_RUN=false

# Skip confirmation prompts
UNATTENDED=false

# Color output
COLOR_OUTPUT=true
